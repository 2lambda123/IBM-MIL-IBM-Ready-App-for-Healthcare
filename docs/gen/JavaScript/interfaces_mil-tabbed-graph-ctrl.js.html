<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: interfaces/mil-tabbed-graph-ctrl.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: interfaces/mil-tabbed-graph-ctrl.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*
 *  Licensed Materials - Property of IBM
 *  © Copyright IBM Corporation 2014. All Rights Reserved.
 *  This sample program is provided AS IS and may be used, executed, copied and modified without royalty 
 *  payment by customer (a) for its own instruction and study, (b) in order to develop applications designed to 
 *  run with an IBM product, either for customer's own internal use or for redistribution by customer, as part 
 *  of such an application, in customer's own products.
 */

/**
 *  @class ReadyAppHC.milCtrl.milTabbedGraphCtrl
 *  @memberOf ReadyAppHC
 *  @augments ReadyAppHC.milCtrl
 *  @description Acts as the interface for all controllers that need tabs for day, week, month,
 *  and year views. This interface defines variables that identify tabs and associates those tabs
 *  with a particular kind of graph directive. (For example, the day route is to the integer {@linkcode 100}, 
 *  and {@linkcode 100} is to bar graphs.) This interface assists with routing for each tab, so you should set
 *  the {@linkcode baseRoute} property in your controller's initializer so that this interface knows how to
 *  build routes when a tab is pressed. A page reload will not be triggered when this interface creates
 *  a new route for tabs; in fact, reloads are manually surpressed by this class. The route change exists
 *  solely for the native code to inject new JSON data when a new tab is pressed.
 *  
 *  @property {string} baseRoute        - Defines the basis for routes that are generated by this interface when a new tab is pressed. For example, if the route {@linkcode /WebView/foo} is provided, then the routes {@linkcode /WebView/foo_day}, {@linkcode /WebView/foo_week}, {@linkcode /WebView/foo_month}, and {@linkcode /WebView/foo_year} are generated by this interface when the appropriate tab is pressed.
 *  @property {integer} displayType     - Defines the type of graphs that should be displayed, where the integer {@linkcode 0} represents bar graphs, and the integer {@linkcode 1} represnts line graphs. This should be used in conjunction with an {@linkcode ng-switch} statement in the HTML code. (For example, when {@linkcode 0}, define a bunch of {@linkcode bar-graph} directives.)
 *  @property {integer} selectedTab     - Defines the tab that is selected, where the integer {@linkcode 48} represents days, the integer {@linkcode 14} represents weeks, the integer {@linkcode 8} represents months, and the integer {@linkcode 24} reprsents years.
 *  @property {integer} dayVal          - Defined by the integer {@linkcode 48}.
 *  @property {integer} weekVal         - Defined by the integer {@linkcode 14}.
 *  @property {integer} monthVal        - Defined by the integer {@linkcode 8}.
 *  @property {integer} yearVal         - Defined by the integer {@linkcode 24}.
 *
 *  @author Jonathan Ballands
 *  @copyright © 2014 IBM Corporation. All Rights Reserved.
 */
angular.module('ReadyAppHC').controller('milTabbedGraphCtrl', function($scope, $controller, choreographerService, selectedTab) {
    
    // Inheritance
    angular.extend(this, $controller('milCtrl', {$scope: $scope}));
    
    /*
     *  Public instance variables
     */
    
    $scope.baseRoute = undefined;
    $scope.displayType = undefined;
    $scope.dayVal = 48;
    $scope.weekVal = 14;
    $scope.monthVal = 8;
    $scope.yearVal = 24;
    
    /*
     *  Private instance variables
     */
    
    var BAR_GRAPH = 0;
    var LINE_GRAPH = 1;
    
    /*
     *  Initializer
     */
    $scope.selectedTab = selectedTab;
    if ($scope.selectedTab == 48) {
        $scope.displayType = BAR_GRAPH;
    }
    else {
        $scope.displayType = LINE_GRAPH;
    }
    choreographerService.notify($scope.selectedTab);
    
    /**
     *  @function ReadyAppHC.milCtrl.milTabbedGraphCtrl.tabClicked
     *  @description Given a tab, mutates the {@linkcode selectedTab} and {@linkcode displayType} properties 
     *  to the most applicable values, as well as mutates the route so that the native code knows where the
     *  hybrid code is, and notifies the {@linkcode choreographerService} that it should generate a new
     *  {@linkcode delta} value.
     *  @param {string} tab Either {@linkcode day}, {@linkcode week}, {@linkcode month}, or {@linkcode year},
     *  depending on the tab that was pressed.
     */
    $scope.tabClicked = function(tab) {
        if ($scope.baseRoute == undefined) {
            console.error("mil-tabbed-graph-ctrl: baseRoute was never initialized! Event will be ignored.");
            return;
        }
        
        switch(tab) {
            case 'day':
                $scope.displayType = BAR_GRAPH;
                $scope.selectedTab = $scope.dayVal;
                $scope.switchRoute($scope.baseRoute + '_day', false);
                choreographerService.notify($scope.dayVal);
                break;
            case 'week':
                $scope.displayType = LINE_GRAPH;
                $scope.selectedTab = $scope.weekVal;
                $scope.switchRoute($scope.baseRoute + '_week', false);
                choreographerService.notify($scope.weekVal);
                break;
            case 'month':
                $scope.displayType = LINE_GRAPH;
                $scope.selectedTab = $scope.monthVal;
                $scope.switchRoute($scope.baseRoute + '_month', false);
                choreographerService.notify($scope.monthVal);
                break;
            case 'year':
                $scope.displayType = LINE_GRAPH;
                $scope.selectedTab = $scope.yearVal;
                $scope.switchRoute($scope.baseRoute + '_year', false);
                choreographerService.notify($scope.yearVal);
                break;
        }
    };
    
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="ReadyAppHC.barGraph.html">barGraph</a></li><li><a href="ReadyAppHC.choreographerService.html">choreographerService</a></li><li><a href="ReadyAppHC.graphMapProvider.html">graphMapProvider</a></li><li><a href="ReadyAppHC.lineGraph.html">lineGraph</a></li><li><a href="ReadyAppHC.milCtrl.html">milCtrl</a></li><li><a href="ReadyAppHC.milCtrl.dashboardCtrl.html">dashboardCtrl</a></li><li><a href="ReadyAppHC.milCtrl.milTabbedGraphCtrl.html">milTabbedGraphCtrl</a></li><li><a href="ReadyAppHC.milCtrl.milTabbedGraphCtrl.milSyncedGraphCtrl.html">milSyncedGraphCtrl</a></li><li><a href="ReadyAppHC.milCtrl.milTabbedGraphCtrl.milSyncedGraphCtrl.metricsCaloriesCtrl.html">metricsCaloriesCtrl</a></li><li><a href="ReadyAppHC.milCtrl.milTabbedGraphCtrl.milSyncedGraphCtrl.metricsCtrl.html">metricsCtrl</a></li><li><a href="ReadyAppHC.milCtrl.milTabbedGraphCtrl.milSyncedGraphCtrl.metricsHrCtrl.html">metricsHrCtrl</a></li><li><a href="ReadyAppHC.milCtrl.milTabbedGraphCtrl.milSyncedGraphCtrl.metricsPainCtrl.html">metricsPainCtrl</a></li><li><a href="ReadyAppHC.milCtrl.milTabbedGraphCtrl.milSyncedGraphCtrl.metricsStepsCtrl.html">metricsStepsCtrl</a></li><li><a href="ReadyAppHC.milCtrl.milTabbedGraphCtrl.milSyncedGraphCtrl.metricsWeightCtrl.html">metricsWeightCtrl</a></li><li><a href="ReadyAppHC.scrubberPopover.html">scrubberPopover</a></li><li><a href="ReadyAppHC.timeGraph.html">timeGraph</a></li></ul><h3>Namespaces</h3><ul><li><a href="ReadyAppHC.html">ReadyAppHC</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha10</a> on Mon Dec 29 2014 12:35:13 GMT-0600 (CST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
